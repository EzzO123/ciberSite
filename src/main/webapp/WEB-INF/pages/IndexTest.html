<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ page import="by.usovich.service.Imp.NewsServiseImplement" %>
<%@ page import="by.usovich.dto.NewsDto.NewsDto" %><%--
Created by IntelliJ IDEA.
User: yanus
Date: 10.05.2017
Time: 21:07
To change this template use File | Settings | File Templates.
--%>

// '<div class="news__item">' +
    //  '<div class="news__img">' +
        //  //'<a href="#"><img src="../resources/img/' + obj.Image + '"></a>' +
        //  '</div>' +
    // '<div class="news_tag">Новости</div>' +
    // '<h4 class="news__header">' +
        // obj.Title +
        // '</h4>' +
    // '<p class="news__preview-text">' +
        // obj.Content +
        // ' </p>' +
    // '<div class="news__more-l">' +
        // '<a href="/News/Index?id=' +
            //  obj.NewsId +
            //  '"class="news__more">Подробнее...</a></div>' +
    // '<span class="news__data">' +
            // obj.PublishDate +
            // '</span>' +
    // '</div>'


<html>
<head>
    <title>Login</title>
</head>
<body>

<form action="login" method="post">


    <input name="nick" type="text" size="40" placeholder="Логин/E-mail">


    <input name="password" type="password" size="40" placeholder="Пароль">

    <button type="submit">Войти</button>
</form>

</body>
</html>


<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
    <title></title>

    <base href="${pageContext.request.scheme}://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}/" />

    <script src="http://code.jquery.com/jquery-1.9.0.min.js"
            type="text/javascript"></script>

    <script type="text/javascript">
        function doAjax() {

            var inputTitel  = $("#titel").val();
            var inputNumber = $("#number").val();




            function sendAjaxNews( newsDeriction, callback) {
                $.ajax({
                    type: "POST",
                    url: "http://localhost:8080/getNews", // Вызываемый метод на сервере
                    data: ({
                        titel : 'dota',
                        newsDeriction : newsDeriction
                    }),
                    dataType: "JSON",
                    success: function (result) {
                        console.log(newsDeriction);

                        console.log('Get Json Post : ' + result[1].titel + '\n' + result[1].content + '\n' + result[1].data + '\n' + result[1].image);

                        // console.log('Get Json Post : ' + result[1].Object[0].titel);

                        replaceNewsPosts(result);

                        return;
                        //  returning something
                        // console.log('result... ' + result);

                    },
                    error: function (result) {


                        callback();
                    }
                });
            }

        });

        })();
            //ToDo
            $.ajax({

                url : 'http://localhost:8080/getNews',
                type : 'GET',
                dataType : 'JSON',
                data : ({

                    titel : inputTitel,
                    number : inputNumber

                }),

                success: function (data) {

                    alert('Get Json Post : \n' +
                        data[1].titel + '\n' + data[1].content + '\n' + data[1].data + '\n'+ data[1].image + '\n');


                }


            });

        }
    </script>
</head>
<body>
<c:forEach var="post" items="${posts}">

    Result :  -->[ ${post.value._titel} -- ${post.value._content} -- ${post.value._date}]<--<br>

</c:forEach>


<div style="float: left">
    <form action="/index" method="post">
        <input type="text" name="number"><<br>
        <input name="titel" type="checkbox"  value="dota" ><span>Dota</span><br>
        <input NAME="titel" type="checkbox"  value="cs"><span>cs</span><br>
        <input NAME="titel" type="checkbox"  value="wot"><span>wot</span><br>
        <input NAME="titel" type="checkbox"  value="paragon"><span>paragon</span><br>
        <button type="submit">Submit</button>
    </form>
</div>








<div style="float: left">

    <input id="number" type="text"><<br>
    <input id="titel" type="checkbox"  value="dota"><span>Dota</span><br>
    <input type="button" value="Ajax" onclick="doAjax()">

</div>


</body>
</html>
